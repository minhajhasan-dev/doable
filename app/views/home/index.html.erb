<% content_for :title, "Doable — Your Project & Todo Manager" %>

<!-- Hero Section -->
<div class="text-center py-12 mb-6">
  <div class="w-20 h-20 bg-indigo-100 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-sm">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-12 h-12 text-indigo-600">
      <path fill-rule="evenodd" d="M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd" />
    </svg>
  </div>
  <h1 class="text-4xl sm:text-5xl font-extrabold text-gray-900 tracking-tight mb-4">
    Welcome to <span class="text-indigo-600">Doable</span>
  </h1>
  <p class="text-lg text-gray-500 max-w-xl mx-auto mb-8">
    Organize your work into projects, break them into todos, and get things done — one task at a time.
  </p>
  <div class="flex items-center justify-center gap-4">
    <%= link_to new_project_path,
      class: "inline-flex items-center gap-2 bg-indigo-600 hover:bg-indigo-700 text-white font-semibold px-6 py-3 rounded-xl shadow-md hover:shadow-lg whitespace-nowrap transition-all duration-200" do %>
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="shrink-0" width="20" height="20">
        <path d="M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z" />
      </svg>
      <span>New Project</span>
    <% end %>
    <%= link_to "Browse Projects →", projects_path,
      class: "inline-flex items-center px-6 py-3 border border-gray-300 text-sm font-semibold rounded-xl text-gray-700 bg-white hover:bg-gray-50 shadow-sm transition-all duration-200" %>
  </div>
</div>

<!-- Stats Cards -->
<div class="grid grid-cols-1 sm:grid-cols-3 gap-5 mb-12">
  <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6 text-center">
    <div class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center mx-auto mb-3">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-indigo-600">
        <path d="M19.5 21a3 3 0 0 0 3-3v-4.5a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3V18a3 3 0 0 0 3 3h15ZM1.5 10.146V6a3 3 0 0 1 3-3h5.379a2.25 2.25 0 0 1 1.59.659l2.122 2.121c.14.141.331.22.53.22H19.5a3 3 0 0 1 3 3v1.146A4.483 4.483 0 0 0 19.5 9h-15a4.483 4.483 0 0 0-3 1.146Z" />
      </svg>
    </div>
    <p class="text-3xl font-bold text-gray-900"><%= Project.count %></p>
    <p class="text-sm text-gray-500 mt-1">Projects</p>
  </div>
  <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6 text-center">
    <div class="w-12 h-12 bg-emerald-100 rounded-xl flex items-center justify-center mx-auto mb-3">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-emerald-600">
        <path fill-rule="evenodd" d="M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z" clip-rule="evenodd" />
      </svg>
    </div>
    <p class="text-3xl font-bold text-gray-900"><%= Todo.where(completed: true).count %></p>
    <p class="text-sm text-gray-500 mt-1">Completed Todos</p>
  </div>
  <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6 text-center">
    <div class="w-12 h-12 bg-amber-100 rounded-xl flex items-center justify-center mx-auto mb-3">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-6 h-6 text-amber-600">
        <path fill-rule="evenodd" d="M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25ZM12.75 6a.75.75 0 0 0-1.5 0v6c0 .414.336.75.75.75h4.5a.75.75 0 0 0 0-1.5h-3.75V6Z" clip-rule="evenodd" />
      </svg>
    </div>
    <p class="text-3xl font-bold text-gray-900"><%= Todo.where(completed: false).count %></p>
    <p class="text-sm text-gray-500 mt-1">Remaining Todos</p>
  </div>
</div>

<!-- Recent Projects -->
<div class="mb-10">
  <div class="flex items-center justify-between mb-5">
    <h2 class="text-xl font-bold text-gray-900">Recent Projects</h2>
    <%= link_to "View all →", projects_path,
      class: "text-sm text-indigo-600 hover:text-indigo-800 font-medium transition-colors duration-200" %>
  </div>

  <% recent_projects = Project.order(created_at: :desc).limit(3) %>
  <% if recent_projects.any? %>
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-5">
      <% recent_projects.each do |project| %>
        <%= link_to project_path(project), class: "group block" do %>
          <div class="bg-white rounded-2xl border border-gray-200 p-5 shadow-sm hover:shadow-md hover:border-indigo-300 transition-all duration-200 group-hover:-translate-y-0.5">
            <div class="flex items-center space-x-3">
              <div class="w-10 h-10 bg-indigo-100 rounded-xl flex items-center justify-center">
                <span class="text-indigo-600 font-bold text-lg"><%= project.name.first.upcase %></span>
              </div>
              <div>
                <h3 class="font-semibold text-gray-900 group-hover:text-indigo-600 transition-colors duration-200"><%= project.name %></h3>
                <p class="text-xs text-gray-500"><%= pluralize(project.todos.count, "todo") %></p>
              </div>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-8 text-center">
      <p class="text-gray-500">No projects yet. Create one to get started!</p>
    </div>
  <% end %>
</div>
