<div class="mb-6">
  <%= link_to "← Back to Projects", projects_path,
    class: "text-sm text-indigo-600 hover:text-indigo-800 font-medium transition-colors duration-200" %>
</div>

<div class="bg-white rounded-2xl border border-gray-200 shadow-sm p-6 mb-6">
  <div class="flex items-center justify-between mb-6">
    <div class="flex items-center space-x-4">
      <div class="w-12 h-12 bg-indigo-100 rounded-xl flex items-center justify-center">
        <span class="text-indigo-600 font-bold text-xl"><%= @project.name.first.upcase %></span>
      </div>
      <h1 class="text-3xl font-bold text-gray-900"><%= @project.name %></h1>
    </div>
    <div class="flex items-center space-x-2">
      <%= link_to "Edit", edit_project_path(@project),
        class: "inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200" %>
      <%= button_to "Delete", project_path(@project), method: :delete,
        data: { confirm: "Are you sure you want to delete this project and all its todos?" },
        class: "inline-flex items-center px-4 py-2 border border-red-300 text-sm font-medium rounded-lg text-red-700 bg-white hover:bg-red-50 transition-colors duration-200" %>
    </div>
  </div>

  <h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider mb-4">
    Todos (<%= @project.todos.count %>)
  </h3>

  <% if @project.todos.any? %>
    <div class="space-y-2">
      <% @project.todos.each do |todo| %>
        <%= link_to todo_path(todo), class: "group block" do %>
          <div class="flex items-center justify-between p-3 rounded-xl hover:bg-gray-50 transition-colors duration-200">
            <div class="flex items-center space-x-3">
              <% if todo.completed? %>
                <span class="w-6 h-6 flex items-center justify-center bg-emerald-100 text-emerald-600 rounded-full text-sm">✓</span>
              <% else %>
                <span class="w-6 h-6 flex items-center justify-center bg-gray-100 text-gray-400 rounded-full border-2 border-gray-300 text-sm"></span>
              <% end %>
              <span class="font-medium text-gray-900 group-hover:text-indigo-600 transition-colors duration-200 <%= 'line-through text-gray-400' if todo.completed? %>">
                <%= todo.name %>
              </span>
            </div>
            <% if todo.priority.present? %>
              <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium
                <%= case todo.priority
                    when 1 then 'bg-red-100 text-red-700'
                    when 2 then 'bg-amber-100 text-amber-700'
                    when 3 then 'bg-blue-100 text-blue-700'
                    else 'bg-gray-100 text-gray-600'
                    end %>">
                P<%= todo.priority %>
              </span>
            <% end %>
          </div>
        <% end %>
      <% end %>
    </div>
  <% else %>
    <div class="text-center py-8">
      <p class="text-gray-500">No todos in this project yet.</p>
      <%= link_to "Add a Todo", new_todo_path,
        class: "text-indigo-600 hover:text-indigo-800 font-medium text-sm transition-colors duration-200" %>
    </div>
  <% end %>
</div>